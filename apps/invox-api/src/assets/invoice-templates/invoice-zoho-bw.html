<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{invoiceTitle}}</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <style>
      @media print {
        body {
          -webkit-print-color-adjust: exact;
        }
      }
    </style>
  </head>

  <body class="text-black antialiased font-sans text-sm p-10 bg-white">
    <div class="mx-auto w-[90vw] max-w-[794px] aspect-[210/297] bg-white p-6">
      <!-- Header -->
      <div class="flex justify-between items-start border-b border-black pb-6">
        <div>
          <p class="flex items-center font-bold text-lg">
            {{#if companyLogo}}
            <img
              src="{{companyLogo}}"
              alt="{{companyName}} Logo"
              class="inline-block h-8 w-auto mr-2 align-middle"
            />
            {{/if}} {{companyName}}
          </p>
          <p class="text-gray-800">{{from.address}}</p>
          <p class="text-gray-800">{{from.phone}}</p>
          <p class="text-gray-800">{{from.email}}</p>
          <p class="text-gray-800">{{from.website}}</p>
          <p class="text-gray-800">GSTIN: {{from.gstin}}</p>
        </div>
        <div class="text-right">
          <h1 class="text-xl font-bold tracking-widest">INVOICE</h1>
          <p class="text-sm text-gray-800">Invoice #: {{invoice.number}}</p>
          <p class="text-sm text-gray-800">Date: {{invoice.date}}</p>
          <p class="text-sm text-gray-800">Due Date: {{invoice.dueDate}}</p>
          <p class="text-sm text-gray-800">PO Number: {{invoice.poNumber}}</p>
          <p class="text-sm text-gray-800">Project: {{invoice.project}}</p>
        </div>
      </div>

      <!-- Bill To -->
      <div class="my-6 grid grid-cols-2 gap-4">
        <div>
          <p class="font-semibold mb-1">Bill To</p>
          <p class="font-bold">{{billTo.name}}</p>
          <p>{{billTo.address}}</p>
          <p>Contact: {{billTo.contact}}</p>
          <p>Email: {{billTo.email}}</p>
          <p>Phone: {{billTo.phone}}</p>
          <p>GSTIN: {{billTo.gstin}}</p>
        </div>
      </div>

      <!-- Table -->
      <div>
        <table class="w-full text-left border border-black">
          <thead>
            <tr class="bg-black text-white">
              <th class="p-2 border border-black">#</th>
              <th class="p-2 border border-black">Item & Description</th>
              <th class="p-2 border border-black text-center">HSN</th>
              <th class="p-2 border border-black text-center">Qty</th>
              <th class="p-2 border border-black text-center">Unit Price</th>
              <th class="p-2 border border-black text-center">CGST</th>
              <th class="p-2 border border-black text-center">SGST</th>
              <th class="p-2 border border-black text-center">IGST</th>
              <th class="p-2 border border-black text-center">Total</th>
            </tr>
          </thead>
          <tbody class="text-black">
            {{#each items}}
            <tr class="border-t border-black">
              <td class="p-2 border border-black">{{@index}}</td>
              <td class="p-2 border border-black">
                <strong>{{description}}</strong>
              </td>
              <td class="p-2 text-center border border-black">{{hsn}}</td>
              <td class="p-2 text-center border border-black">{{qty}}</td>
              <td class="p-2 text-center border border-black">
                ₹{{unitPrice}}
              </td>
              <td class="p-2 text-center border border-black">₹{{cgst}}</td>
              <td class="p-2 text-center border border-black">₹{{sgst}}</td>
              <td class="p-2 text-center border border-black">₹{{igst}}</td>
              <td class="p-2 text-center border border-black">₹{{total}}</td>
            </tr>
            {{/each}}
          </tbody>
          <tfoot>
            <tr>
              <td
                colspan="8"
                class="p-2 text-right font-bold border border-black"
              >
                Subtotal
              </td>
              <td class="p-2 text-center border border-black font-bold">
                ₹{{totals.subtotal}}
              </td>
            </tr>
            <tr>
              <td
                colspan="8"
                class="p-2 text-right font-bold border border-black"
              >
                CGST Total
              </td>
              <td class="p-2 text-center border border-black font-bold">
                ₹{{totals.cgstTotal}}
              </td>
            </tr>
            <tr>
              <td
                colspan="8"
                class="p-2 text-right font-bold border border-black"
              >
                SGST Total
              </td>
              <td class="p-2 text-center border border-black font-bold">
                ₹{{totals.sgstTotal}}
              </td>
            </tr>
            <tr>
              <td
                colspan="8"
                class="p-2 text-right font-bold border border-black"
              >
                Total GST
              </td>
              <td class="p-2 text-center border border-black font-bold">
                ₹{{totals.totalGST}}
              </td>
            </tr>
            <tr>
              <td
                colspan="8"
                class="p-2 text-right font-bold border border-black"
              >
                Total Amount
              </td>
              <td class="p-2 text-center border border-black font-bold">
                ₹{{totals.totalAmount}}
              </td>
            </tr>
            <tr>
              <td
                colspan="8"
                class="p-2 text-right font-bold border border-black"
              >
                Amount Paid
              </td>
              <td class="p-2 text-center border border-black font-bold">
                ₹{{totals.amountPaid}}
              </td>
            </tr>
            <tr>
              <td
                colspan="8"
                class="p-2 text-right font-bold border border-black"
              >
                Balance Due
              </td>
              <td class="p-2 text-center border border-black font-bold">
                ₹{{totals.balanceDue}}
              </td>
            </tr>
          </tfoot>
        </table>
      </div>

      <!-- Footer -->
      <div class="mt-10 text-black">
        <p class="mb-1 text-sm">
          Bank: <span class="font-medium">{{payment.bank}}</span>
        </p>
        <p class="mb-1 text-sm">
          A/C Number: <span class="font-medium">{{payment.accountNumber}}</span>
        </p>
        <p class="mb-1 text-sm">IFSC: {{payment.ifsc}}</p>
        <p class="mb-1 text-sm">UPI: {{payment.upi}}</p>
        <p class="mt-6 text-xs text-gray-800">Note: {{payment.note}}</p>
        <p class="mt-6 text-xs text-gray-800">Terms & Conditions: {{terms}}</p>
        <p class="mt-6 text-xs text-gray-800">{{footerNote}}</p>
        <p class="mt-6 text-xs text-gray-800">
          Support Email: {{support.email}}
        </p>
        <p class="text-xs text-gray-800">Support Phone: {{support.phone}}</p>
      </div>
    </div>
  </body>
</html>
