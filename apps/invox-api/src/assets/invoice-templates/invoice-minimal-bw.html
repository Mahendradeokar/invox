<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>{{invoiceTitle}}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @media print {
        html,
        body {
          -webkit-print-color-adjust: exact;
          color-adjust: exact;
        }
      }
    </style>
  </head>
  <body class="text-black bg-white font-sans text-sm">
    <div class="mx-auto w-[90vw] max-w-[794px] aspect-[210/297]">
      <!-- Header -->
      <div
        class="flex items-center justify-between mb-8 border-b border-black pb-2"
      >
        <div class="flex items-center space-x-3">
          <img
            src="{{companyLogo}}"
            alt="{{companyName}} Logo"
            class="h-10 w-auto"
          />
        </div>
        <div class="text-right text-xl tracking-widest font-light">
          {{invoiceTitle}}
        </div>
      </div>

      <!-- Billing and Invoice Details -->
      <div class="flex justify-between mb-8">
        <div>
          <p class="mb-1 font-semibold">BILL TO:</p>
          <p>{{billTo.name}}</p>
          <p>{{billTo.address}}</p>
          <p>Contact: {{billTo.contact}}</p>
          <p>Phone: {{billTo.phone}}</p>
          <p>Email: {{billTo.email}}</p>
          <p>GSTIN: {{billTo.gstin}}</p>
        </div>
        <div class="text-sm text-right">
          <p>
            <span class="font-semibold">INVOICE #:</span> {{invoice.number}}
          </p>
          <p><span class="font-semibold">DATE:</span> {{invoice.date}}</p>
          <p>
            <span class="font-semibold">DUE DATE:</span> {{invoice.dueDate}}
          </p>
          <p><span class="font-semibold">PO #:</span> {{invoice.poNumber}}</p>
          <p><span class="font-semibold">PROJECT:</span> {{invoice.project}}</p>
        </div>
      </div>

      <!-- Company Payment Info -->
      <div class="mb-8 text-sm">
        <p class="font-semibold mb-1">PAY TO:</p>
        <p>{{from.name}}</p>
        <p>{{from.address}}</p>
        <p>Phone: {{from.phone}}</p>
        <p>Email: {{from.email}}</p>
        <p>Website: {{from.website}}</p>
        <p>GSTIN: {{from.gstin}}</p>
        <p>Bank: {{payment.bank}}</p>
        <p>Account No: {{payment.accountNumber}}</p>
        <p>IFSC: {{payment.ifsc}}</p>
        <p>UPI: {{payment.upi}}</p>
      </div>

      <!-- Items Table -->
      <table class="w-full mb-12 border-t border-b border-black text-sm">
        <thead>
          <tr class="text-left border-b border-black">
            <th class="py-2">DESCRIPTION</th>
            <th class="py-2 text-center">HSN</th>
            <th class="py-2 text-center">QTY</th>
            <th class="py-2 text-right">UNIT PRICE</th>
            <th class="py-2 text-right">TOTAL</th>
          </tr>
        </thead>
        <tbody>
          {{#each items}}
          <tr class="border-b border-gray-300">
            <td class="py-2">{{description}}</td>
            <td class="text-center">{{hsn}}</td>
            <td class="text-center">{{qty}}</td>
            <td class="text-right">{{unitPrice}}</td>
            <td class="text-right">{{total}}</td>
          </tr>
          {{/each}}
        </tbody>
      </table>

      <!-- Totals -->
      <div class="flex justify-end">
        <div class="w-1/3">
          <div class="flex justify-between py-1">
            <span class="font-semibold">SUBTOTAL</span>
            <span>{{totals.subtotal}}</span>
          </div>
          <div class="flex justify-between py-1">
            <span class="font-semibold">CGST</span>
            <span>{{totals.cgstTotal}}</span>
          </div>
          <div class="flex justify-between py-1">
            <span class="font-semibold">SGST</span>
            <span>{{totals.sgstTotal}}</span>
          </div>
          <div class="flex justify-between py-1">
            <span class="font-semibold">TOTAL GST</span>
            <span>{{totals.totalGST}}</span>
          </div>
          <div class="flex justify-between py-1 border-t border-black mt-2">
            <span class="font-bold">TOTAL</span>
            <span class="font-bold">{{totals.totalAmount}}</span>
          </div>
          <div class="flex justify-between py-1">
            <span class="font-semibold">PAID</span>
            <span>{{totals.amountPaid}}</span>
          </div>
          <div class="flex justify-between py-1">
            <span class="font-semibold">BALANCE DUE</span>
            <span>{{totals.balanceDue}}</span>
          </div>
        </div>
      </div>

      <!-- Notes -->
      <div class="mt-8 text-sm">
        <p class="font-semibold mb-1">TERMS:</p>
        <p>{{terms}}</p>
        <p class="mt-2">{{payment.note}}</p>
      </div>

      <!-- Footer -->
      <div class="mt-8 text-sm">
        <p>{{footerNote}}</p>
        <p class="mt-2">Support: {{support.email}} | {{support.phone}}</p>
      </div>

      <!-- Signature -->
      <div class="mt-16 text-right">
        <p class="italic text-sm">
          Authorized Signature: ________________________
        </p>
      </div>
    </div>
  </body>
</html>
