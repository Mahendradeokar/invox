<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{invoiceTitle}}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @media print {
        html,
        body {
          -webkit-print-color-adjust: exact;
          color-adjust: exact;
          box-shadow: none !important;
        }
        .no-print {
          display: none !important;
        }
      }

      @page {
        size: A4;
        margin: 0;
      }
    </style>
  </head>
  <body class="text-gray-800 font-sans antialiased p-8 bg-white">
    <div class="mx-auto w-[90vw] max-w-[794px] aspect-[210/297]">
      <!-- Header with Logo -->
      <div class="text-center mb-10">
        <img
          src="{{companyLogo}}"
          alt="{{companyName}} Logo"
          class="mx-auto mb-4 w-16 h-16 object-contain"
        />
        <div class="text-2xl font-semibold tracking-wide">{{companyName}}</div>
        <div class="text-sm uppercase tracking-widest text-gray-500">
          {{companyTagline}}
        </div>
      </div>

      <!-- Invoice Meta -->
      <div class="flex justify-between text-sm mb-6">
        <div>
          <div class="font-semibold uppercase text-xs mb-1">Bill To:</div>
          <div>{{billTo.name}}</div>
          <div>{{billTo.address}}</div>
          <div>Contact: {{billTo.contact}}</div>
          <div>Email: {{billTo.email}}</div>
          <div>Phone: {{billTo.phone}}</div>
          <div>GSTIN: {{billTo.gstin}}</div>
        </div>
        <div class="text-right">
          <div>
            <span class="font-medium">Invoice No:</span> {{invoice.number}}
          </div>
          <div><span class="font-medium">Date:</span> {{invoice.date}}</div>
          <div>
            <span class="font-medium">Due Date:</span> {{invoice.dueDate}}
          </div>
          <div>
            <span class="font-medium">Payment Terms:</span>
            {{invoice.paymentTerms}}
          </div>
          <div>
            <span class="font-medium">PO Number:</span> {{invoice.poNumber}}
          </div>
          <div>
            <span class="font-medium">Project:</span> {{invoice.project}}
          </div>
        </div>
      </div>

      <!-- Table -->
      <div class="border-t border-b border-gray-400 mt-4">
        <div
          class="grid grid-cols-6 text-xs font-semibold uppercase py-2 text-gray-600"
        >
          <div class="col-span-2">Description</div>
          <div>HSN</div>
          <div class="text-center">Qty</div>
          <div class="text-right">Unit Price</div>
          <div class="text-right">Total</div>
        </div>
        <!-- Items -->
        {{#each items}}
        <div class="grid grid-cols-6 text-sm py-2 border-t border-gray-200">
          <div class="col-span-2">{{description}}</div>
          <div>{{hsn}}</div>
          <div class="text-center">{{qty}}</div>
          <div class="text-right">₹{{unitPrice}}</div>
          <div class="text-right">₹{{total}}</div>
        </div>
        {{/each}}
      </div>

      <!-- Subtotal -->
      <div class="text-sm text-right mt-4">
        <div class="flex justify-end border-t border-gray-300 pt-2">
          <div class="w-1/3">
            <div class="flex justify-between">
              <span class="font-medium">Subtotal:</span>
              <span>₹{{totals.subtotal}}</span>
            </div>
            <div class="flex justify-between mt-1">
              <span class="font-medium">CGST:</span>
              <span>₹{{totals.cgstTotal}}</span>
            </div>
            <div class="flex justify-between mt-1">
              <span class="font-medium">SGST:</span>
              <span>₹{{totals.sgstTotal}}</span>
            </div>
            <div class="flex justify-between mt-1">
              <span class="font-medium">Total GST:</span>
              <span>₹{{totals.totalGST}}</span>
            </div>
            <div class="flex justify-between mt-1">
              <span class="font-medium">Amount Paid:</span>
              <span>₹{{totals.amountPaid}}</span>
            </div>
            <div class="flex justify-between mt-1">
              <span class="font-medium">Balance Due:</span>
              <span>₹{{totals.balanceDue}}</span>
            </div>
            <div
              class="flex justify-between border-t border-gray-200 mt-2 pt-2 text-lg font-bold"
            >
              <span>Total Amount:</span>
              <span>₹{{totals.totalAmount}}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <div class="flex justify-between text-sm mt-10">
        <div>
          <div class="uppercase text-xs font-semibold mb-1">Bank Details</div>
          <div>{{payment.bank}}</div>
          <div>Account No: {{payment.accountNumber}}</div>
          <div>IFSC: {{payment.ifsc}}</div>
          <div>UPI: {{payment.upi}}</div>
          <div class="mt-2 text-xs text-gray-500">{{payment.note}}</div>
        </div>
        <div class="text-right">
          <div class="text-sm font-semibold">Thank You</div>
          <div class="mt-6 italic">{{footerNote}}</div>
          <div class="mt-2 text-xs text-gray-500">
            Support: {{support.email}}, {{support.phone}}
          </div>
        </div>
      </div>

      <!-- Terms -->
      <div class="mt-6 text-xs text-gray-600 italic">{{terms}}</div>
    </div>
  </body>
</html>
